
\section{Syntax and Semantics}

\begin{figure}[t]
  \centering
\begin{tabular}{llll} \toprule
  Types & $[[A]], [[B]], [[C]]$ & $\Coloneqq$ & $[[nat]] \mid [[Top]] \mid [[A -> B]]  \mid [[A & B]] \mid [[X]] \mid [[\ X ** A . B]] \mid [[{l : A}]]$\\
  Monotypes & $[[t]]$ & $\Coloneqq$ & $[[nat]] \mid [[Top]] \mid [[t1 -> t2]]  \mid [[t1 & t2]] \mid [[X]] \mid [[{l : t}]]$\\
  Expressions & $[[ee]]$ & $\Coloneqq$ & $[[x]] \mid [[i]] \mid [[Top]] \mid [[\x . ee]] \mid [[ee1 ee2]] \mid [[ ee1 ,, ee2 ]] \mid [[\X ** A . ee]] $ \\
        & & $\mid$ & $[[ ee A ]] \mid [[ ee : A ]] \mid [[{l = ee}]] \mid [[ ee.l  ]] $ \\
  Value Contexts & $[[GG]]$ & $\Coloneqq$ &  $[[empty]] \mid [[GG , x : A]] $ \\
  Type Contexts & $[[DD]]$ & $\Coloneqq$ &  $[[empty]] \mid [[DD , X ** A]] $  \\ \bottomrule
  % Expression Contexts & $[[CC]]$ & $\Coloneqq$ &  $[[__]] \mid [[\ x . CC]] \mid [[\ X ** A. CC]] \mid [[ CC A  ]] \mid [[CC ee]] \mid [[ee CC]] \mid [[ CC ,, ee  ]]  $ \\
  % & & $\mid$ & $[[ ee ,, CC  ]] \mid  [[ { l = CC}  ]]  \mid [[ CC . l]] $
\end{tabular}
  \caption{Syntax of \fnamee}
  \label{fig:syntax:fi}
\end{figure}

The syntax is shown in \cref{fig:syntax:fi}.


\drules[swft]{$[[DD |- A]]$}{Well-formedness of types}{top, int, var, arrow, all, and, rcd}

\drules[swfe]{$[[DD ||- GG]]$}{Well-formedness of value contexts}{empty, var}

\drules[swfte]{$[[||- DD]]$}{Well-formedness of type contexts}{empty, var}

\drules[FS]{$[[ A <|: B ~~> c]]$}{Subtyping}{refl,trans,top,topArr,topRcd,arr,and,andl,andr,forall,rcd,distArr,distRcd}

\drules[FT]{$[[DD; GG |- ee => A ~~> e]]$}{Inference}{top, nat, var, app, merge, anno, tabs, rcd, proj, tapp}

\drules[FT]{$[[DD ; GG |- ee <= A ~~> e]]$}{Checking}{abs, sub}
